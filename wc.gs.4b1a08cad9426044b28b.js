(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{488:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(192),r=c(19),l=c(475),u=c(505),s=c(503),d=c(466),i=c(465),m=c(473),p=c(472),b=c(504),f=c(469),j=c(470),O=c(476),g=c(474),k=c(471),h=c(489),w=c.n(h);const E=["rgba(0, 128, 0, 0.25)"];function P(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(n.memo)(({pots:e})=>{const[t,c]=Object(d.a)("draw-"),h=Object(n.useMemo)(()=>e.map(e=>o(e)),[e,t]),T=Object(n.useMemo)(()=>e[0].map(()=>[]),[e,t]),G=Object(n.useMemo)(()=>P(h),[h]),[{currentPotNum:N,selectedTeam:y,pickedGroup:x,hungPot:C},v]=Object(n.useState)(G),[,M]=Object(r.a)(),$=Object(s.a)(w.a),[I,J]=Object(l.a)(),[S,A]=Object(u.a)(3e3),W=Object(n.useCallback)(async e=>(await $({pots:h,groups:T,selectedTeam:e})).pickedGroup,[h,T,$]),q=Object(n.useCallback)(async e=>{const t=h[N];v({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,N]);Object(n.useEffect)(()=>{y&&(async()=>{if(!y)throw new Error("no selected team");let e;A.set(y);try{e=await W(y)}catch(e){return console.error(e),void M({error:"Could not determine the group"})}T[e].push(y);const t=h[N].length>0?N:N+1;J.add(y),A.reset(),v({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})})()},[y]),Object(n.useEffect)(()=>{const e=h[N].findIndex(e=>e.host);q(e)},[t]);const z=Object(n.useCallback)(()=>{c(),v(P(e))},[e]),B=N>=h.length;return a.a.createElement(k.a,null,a.a.createElement(f.a,null,a.a.createElement(p.a,{selectedTeams:y&&[y],initialPots:e,pots:h,currentPotNum:N}),a.a.createElement(b.a,{maxTeams:h.length,currentPotNum:N,groups:T,possibleGroups:null,airborneTeams:I,groupColors:E})),a.a.createElement(j.a,null,a.a.createElement(O.a,{forceNoSelect:!!y,display:!B,selectedTeam:y,pot:C,onPick:q}),a.a.createElement(g.a,{long:!0,calculating:S,completed:B,selectedTeam:y,pickedGroup:x,possibleGroups:null,numGroups:T.length,reset:z})),I.map(e=>{const t=T.findIndex(t=>t.includes(e)),c=Object(i.a)(t),n=T[t].indexOf(e);return a.a.createElement(m.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${c}${n}']`,duration:350,data:e,onAnimationEnd:J.remove})}))})},489:function(e,t,c){e.exports=function(){return new Worker(c.p+"b9f42b2be0afb96000cf.worker.js")}}}]);