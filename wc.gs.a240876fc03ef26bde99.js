(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{486:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(192),r=a(16),l=a(473),u=a(503),s=a(501),d=a(464),i=a(463),m=a(471),p=a(470),b=a(502),f=a(467),j=a(468),O=a(474),g=a(472),k=a(469),h=a(487),w=a.n(h);const E=["rgba(0, 128, 0, 0.25)"];function P(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(n.memo)(({pots:e})=>{const[t,a]=Object(d.a)("draw-"),h=Object(n.useMemo)(()=>e.map(e=>o(e)),[e,t]),T=Object(n.useMemo)(()=>e[0].map(()=>[]),[e,t]),G=Object(n.useMemo)(()=>P(h),[h]),[{currentPotNum:N,selectedTeam:y,pickedGroup:x,hungPot:C},v]=Object(n.useState)(G),[,M]=Object(r.a)(),$=Object(s.a)(w.a),[I,J]=Object(l.a)(),[S,A]=Object(u.a)(3e3),W=Object(n.useCallback)(async e=>(await $({pots:h,groups:T,selectedTeam:e})).pickedGroup,[h,T,$]),q=Object(n.useCallback)(async e=>{const t=h[N];v({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,N]);Object(n.useEffect)(()=>{y&&(async()=>{if(!y)throw new Error("no selected team");let e;A.set(y);try{e=await W(y)}catch(e){return console.error(e),void M({error:"Could not determine the group"})}T[e].push(y);const t=h[N].length>0?N:N+1;J.add(y),A.reset(),v({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})})()},[y]),Object(n.useEffect)(()=>{const e=h[N].findIndex(e=>e.host);q(e)},[t]);const z=Object(n.useCallback)(()=>{a(),v(P(e))},[e]),B=N>=h.length;return c.a.createElement(k.a,null,c.a.createElement(f.a,null,c.a.createElement(p.a,{selectedTeams:y&&[y],initialPots:e,pots:h,currentPotNum:N}),c.a.createElement(b.a,{maxTeams:h.length,currentPotNum:N,groups:T,possibleGroups:null,airborneTeams:I,groupColors:E})),c.a.createElement(j.a,null,c.a.createElement(O.a,{forceNoSelect:!!y,display:!B,selectedTeam:y,pot:C,onPick:q}),c.a.createElement(g.a,{long:!0,calculating:S,completed:B,selectedTeam:y,pickedGroup:x,possibleGroups:null,numGroups:T.length,reset:z})),I.map(e=>{const t=T.findIndex(t=>t.includes(e)),a=Object(i.a)(t),n=T[t].indexOf(e);return c.a.createElement(m.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${a}${n}']`,duration:350,data:e,onAnimationEnd:J.remove})}))})},487:function(e,t,a){e.exports=function(){return new Worker(a.p+"da2d3183414171fbbffa.worker.js")}}}]);