(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{486:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(192),r=n(17),l=n(473),u=n(503),s=n(501),d=n(464),i=n(463),m=n(471),p=n(470),b=n(502),f=n(467),j=n(468),O=n(474),g=n(472),k=n(469),h=n(487),w=n.n(h);const E=["rgba(0, 128, 0, 0.25)"];function P(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(c.memo)(({pots:e})=>{const[t,n]=Object(d.a)("draw-"),h=Object(c.useMemo)(()=>e.map(e=>o(e)),[e,t]),T=Object(c.useMemo)(()=>e[0].map(()=>[]),[e,t]),G=Object(c.useMemo)(()=>P(h),[h]),[{currentPotNum:N,selectedTeam:y,pickedGroup:x,hungPot:C},v]=Object(c.useState)(G),[,M]=Object(r.a)(),$=Object(s.a)(w.a),[I,J]=Object(l.a)(),[S,A]=Object(u.a)(3e3),W=Object(c.useCallback)(async e=>(await $({pots:h,groups:T,selectedTeam:e})).pickedGroup,[h,T,$]),q=Object(c.useCallback)(async e=>{const t=h[N];v({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,N]);Object(c.useEffect)(()=>{y&&(async()=>{if(!y)throw new Error("no selected team");let e;A.set(y);try{e=await W(y)}catch(e){return console.error(e),void M({error:"Could not determine the group"})}T[e].push(y);const t=h[N].length>0?N:N+1;J.add(y),A.reset(),v({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})})()},[y]),Object(c.useEffect)(()=>{const e=h[N].findIndex(e=>e.host);q(e)},[t]);const z=Object(c.useCallback)(()=>{n(),v(P(e))},[e]),B=N>=h.length;return a.a.createElement(k.a,null,a.a.createElement(f.a,null,a.a.createElement(p.a,{selectedTeams:y&&[y],initialPots:e,pots:h,currentPotNum:N}),a.a.createElement(b.a,{maxTeams:h.length,currentPotNum:N,groups:T,possibleGroups:null,airborneTeams:I,groupColors:E})),a.a.createElement(j.a,null,a.a.createElement(O.a,{forceNoSelect:!!y,display:!B,selectedTeam:y,pot:C,onPick:q}),a.a.createElement(g.a,{long:!0,calculating:S,completed:B,selectedTeam:y,pickedGroup:x,possibleGroups:null,numGroups:T.length,reset:z})),I.map(e=>{const t=T.findIndex(t=>t.includes(e)),n=Object(i.a)(t),c=T[t].indexOf(e);return a.a.createElement(m.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${n}${c}']`,duration:350,data:e,onAnimationEnd:J.remove})}))})},487:function(e,t,n){e.exports=function(){return new Worker(n.p+"dd683353eef40f6e9453.worker.js")}}}]);