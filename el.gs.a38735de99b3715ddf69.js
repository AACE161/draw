(window.webpackJsonp=window.webpackJsonp||[]).push([["el.gs",4],{482:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(191),r=a(17),l=a(472),s=a(502),u=a(500),d=a(463),m=a(462),i=a(470),p=a(469),b=a(501),g=a(466),j=a(467),O=a(473),k=a(471),f=a(468),h=a(483),w=a.n(h);const P=["rgba(255, 0, 0, 0.25)","rgba(0, 128, 255, 0.25)"];function E(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(n.memo)(({season:e,pots:t})=>{const[a,h]=Object(d.a)("draw-"),T=Object(n.useMemo)(()=>t.map(e=>o(e)),[t,a]),G=Object(n.useMemo)(()=>t[0].map(()=>[]),[t,a]),N=Object(n.useMemo)(()=>E(T),[T]),[{currentPotNum:y,selectedTeam:C,pickedGroup:x,hungPot:v},M]=Object(n.useState)(N),[,$]=Object(r.a)(),J=Object(u.a)(w.a),[S,A]=Object(l.a)(),[I,W]=Object(s.a)(3e3),q=Object(n.useCallback)(async t=>(await J({season:e,pots:T,groups:G,selectedTeam:t})).pickedGroup,[T,G,e,J]),z=Object(n.useCallback)(async e=>{const t=T[y];M({currentPotNum:y,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[T,y]);Object(n.useEffect)(()=>{C&&(async()=>{if(!C)throw new Error("no selected team");let e;W.set(C);try{e=await q(C)}catch(e){return console.error(e),void $({error:"Could not determine the group"})}G[e].push(C);const t=T[y].length>0?y:y+1;A.add(C),W.reset(),M({selectedTeam:null,pickedGroup:e,hungPot:T[t],currentPotNum:t})})()},[C]);const B=Object(n.useCallback)(()=>{h(),M(E(t))},[t]),D=y>=T.length;return c.a.createElement(f.a,null,c.a.createElement(g.a,null,c.a.createElement(p.a,{selectedTeams:C&&[C],initialPots:t,pots:T,currentPotNum:y}),c.a.createElement(b.a,{maxTeams:T.length,currentPotNum:y,groups:G,possibleGroups:null,airborneTeams:S,groupColors:P})),c.a.createElement(j.a,null,c.a.createElement(O.a,{forceNoSelect:!!C,display:!D,selectedTeam:C,pot:v,onPick:z}),c.a.createElement(k.a,{long:!0,calculating:I,completed:D,selectedTeam:C,pickedGroup:x,possibleGroups:null,numGroups:G.length,reset:B})),S.map(e=>{const t=G.findIndex(t=>t.includes(e)),a=Object(m.a)(t),n=G[t].indexOf(e);return c.a.createElement(i.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${a}${n}']`,duration:350,data:e,onAnimationEnd:A.remove})}))})},483:function(e,t,a){e.exports=function(){return new Worker(a.p+"aa45bac0b86b8d946c8f.worker.js")}}}]);