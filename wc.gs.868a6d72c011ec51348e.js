(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{491:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(194),r=a(19),l=a(477),u=a(478),s=a(508),d=a(506),i=a(468),m=a(467),p=a(475),b=a(474),f=a(507),j=a(471),O=a(472),g=a(479),k=a(476),h=a(473),w=a(492),E=a.n(w);const P=["rgba(0, 128, 0, 0.25)"];function T(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(c.memo)(({pots:e})=>{const[t,a]=Object(i.a)("draw-"),w=Object(c.useMemo)(()=>e.map(e=>o(e)),[e,t]),G=Object(c.useMemo)(()=>e[0].map(()=>[]),[e,t]),y=Object(c.useMemo)(()=>T(w),[w]),[{currentPotNum:N,selectedTeam:x,pickedGroup:C,hungPot:v},M]=Object(c.useState)(y),[,$]=Object(r.a)(),[I]=Object(l.a)(),J=Object(d.a)(E.a),[S,A]=Object(u.a)(),[W,q]=Object(s.a)(3e3),z=Object(c.useCallback)(async e=>(await J({pots:w,groups:G,selectedTeam:e})).pickedGroup,[w,G,J]),B=Object(c.useCallback)(async e=>{if(x)return;const t=w[N];t[e]&&M({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[w,N]);Object(c.useEffect)(()=>{x&&(async()=>{if(!x)throw new Error("no selected team");let e;q.set(x);try{e=await z(x)}catch(e){return console.error(e),void $({error:"Could not determine the group"})}G[e].push(x);const t=w[N].length>0?N:N+1;A.add(x),q.reset(),M({selectedTeam:null,pickedGroup:e,hungPot:w[t],currentPotNum:t})})()},[x]),Object(c.useEffect)(()=>{const e=w[N].findIndex(e=>e.host);B(e)},[t]);const D=Object(c.useCallback)(()=>{a(),M(T(e))},[e]),F=N>=w.length;return n.a.createElement(h.a,null,n.a.createElement(j.a,null,n.a.createElement(b.a,{selectedTeams:x&&[x],initialPots:e,pots:w,currentPotNum:N}),n.a.createElement(f.a,{maxTeams:w.length,currentPotNum:N,groups:G,possibleGroups:null,airborneTeams:S,groupColors:P})),n.a.createElement(O.a,null,n.a.createElement(g.a,{forceNoSelect:!!x,display:!F,displayTeams:I,selectedTeam:x,pot:v,onPick:B}),n.a.createElement(k.a,{long:!0,calculating:W,completed:F,selectedTeam:x,pickedGroup:C,possibleGroups:null,numGroups:G.length,reset:D})),S.map(e=>{const t=G.findIndex(t=>t.includes(e)),a=Object(m.a)(t),c=G[t].indexOf(e);return n.a.createElement(p.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${a}${c}']`,duration:350,data:e,onAnimationEnd:A.remove})}))})},492:function(e,t,a){e.exports=function(){return new Worker(a.p+"e920c76296bb9f2f71d6.worker.js")}}}]);