(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{486:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),o=c(192),r=c(17),l=c(473),u=c(503),s=c(501),d=c(464),i=c(463),m=c(471),p=c(470),b=c(502),j=c(467),O=c(468),f=c(474),g=c(472),k=c(469),h=c(487),w=c.n(h);const E=["rgba(0, 128, 0, 0.25)"];function P(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(a.memo)(({pots:e})=>{const[t,c]=Object(d.a)("draw-"),h=Object(a.useMemo)(()=>e.map(e=>o(e)),[e,t]),T=Object(a.useMemo)(()=>e[0].map(()=>[]),[e,t]),G=Object(a.useMemo)(()=>P(h),[h]),[{currentPotNum:N,selectedTeam:y,pickedGroup:x,hungPot:C},v]=Object(a.useState)(G),[,M]=Object(r.a)(),$=Object(s.a)(w.a),[I,J]=Object(l.a)(),[S,A]=Object(u.a)(3e3),W=Object(a.useCallback)(async e=>(await $({pots:h,groups:T,selectedTeam:e})).pickedGroup,[h,T,$]),q=Object(a.useCallback)(async e=>{const t=h[N];v({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,N]);Object(a.useEffect)(()=>{y&&(async()=>{if(!y)throw new Error("no selected team");let e;A.set(y);try{e=await W(y)}catch(e){return console.error(e),void M({error:"Could not determine the group"})}T[e].push(y);const t=h[N].length>0?N:N+1;J.add(y),A.reset(),v({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})})()},[y]),Object(a.useEffect)(()=>{const e=h[N].findIndex(e=>e.host);q(e)},[t]);const z=Object(a.useCallback)(()=>{c(),v(P(e))},[e]),B=N>=h.length;return n.a.createElement(k.a,null,n.a.createElement(j.a,null,n.a.createElement(p.a,{selectedTeams:y&&[y],initialPots:e,pots:h,currentPotNum:N}),n.a.createElement(b.a,{maxTeams:h.length,currentPotNum:N,groups:T,possibleGroups:null,airborneTeams:I,groupColors:E})),n.a.createElement(O.a,null,n.a.createElement(f.a,{forceNoSelect:!!y,display:!B,selectedTeam:y,pot:C,onPick:q}),n.a.createElement(g.a,{long:!0,calculating:S,completed:B,selectedTeam:y,pickedGroup:x,possibleGroups:null,numGroups:T.length,reset:z})),I.map(e=>{const t=T.findIndex(t=>t.includes(e)),c=Object(i.a)(t),a=T[t].indexOf(e);return n.a.createElement(m.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${c}${a}']`,duration:350,data:e,onAnimationEnd:J.remove})}))})},487:function(e,t,c){e.exports=function(){return new Worker(c.p+"fa87c9770843b0a796c2.worker.js")}}}]);