(window.webpackJsonp=window.webpackJsonp||[]).push([["el.gs",4],{488:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(194),r=a(19),l=a(477),s=a(478),u=a(508),d=a(506),i=a(468),m=a(467),p=a(475),b=a(474),g=a(507),j=a(471),O=a(472),k=a(479),f=a(476),h=a(473),w=a(489),P=a.n(w);const E=["rgba(255, 0, 0, 0.25)","rgba(0, 128, 255, 0.25)"];function T(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(n.memo)(({season:e,pots:t})=>{const[a,w]=Object(i.a)("draw-"),G=Object(n.useMemo)(()=>t.map(e=>o(e)),[t,a]),N=Object(n.useMemo)(()=>t[0].map(()=>[]),[t,a]),y=Object(n.useMemo)(()=>T(G),[G]),[{currentPotNum:C,selectedTeam:x,pickedGroup:v,hungPot:M},$]=Object(n.useState)(y),[,J]=Object(r.a)(),[S]=Object(l.a)(),A=Object(d.a)(P.a),[I,W]=Object(s.a)(),[q,z]=Object(u.a)(3e3),B=Object(n.useCallback)(async t=>(await A({season:e,pots:G,groups:N,selectedTeam:t})).pickedGroup,[G,N,e,A]),D=Object(n.useCallback)(e=>{if(x)return;const t=G[C];t[e]&&$({currentPotNum:C,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[G,C]);Object(n.useEffect)(()=>{x&&(async()=>{if(!x)throw new Error("no selected team");let e;z.set(x);try{e=await B(x)}catch(e){return console.error(e),void J({error:"Could not determine the group"})}N[e].push(x);const t=G[C].length>0?C:C+1;W.add(x),z.reset(),$({selectedTeam:null,pickedGroup:e,hungPot:G[t],currentPotNum:t})})()},[x]);const F=Object(n.useCallback)(()=>{w(),$(T(t))},[t]),H=C>=G.length;return c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(b.a,{selectedTeams:x&&[x],initialPots:t,pots:G,currentPotNum:C}),c.a.createElement(g.a,{maxTeams:G.length,currentPotNum:C,groups:N,possibleGroups:null,airborneTeams:I,groupColors:E})),c.a.createElement(O.a,null,c.a.createElement(k.a,{forceNoSelect:!!x,display:!H,displayTeams:S,selectedTeam:x,pot:M,onPick:D}),c.a.createElement(f.a,{long:!0,calculating:q,completed:H,selectedTeam:x,pickedGroup:v,possibleGroups:null,numGroups:N.length,reset:F})),I.map(e=>{const t=N.findIndex(t=>t.includes(e)),a=Object(m.a)(t),n=N[t].indexOf(e);return c.a.createElement(p.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${a}${n}']`,duration:350,data:e,onAnimationEnd:W.remove})}))})},489:function(e,t,a){e.exports=function(){return new Worker(a.p+"aeb9613be1393f5dace0.worker.js")}}}]);